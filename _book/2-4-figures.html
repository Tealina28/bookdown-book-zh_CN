<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="2.4 Figures | Bookdown: 使用 R Markdown 创作书籍和技术文档" />
<meta property="og:type" content="book" />
<meta property="og:url" content="https://bookdown.org/yihui/bookdown/" />
<meta property="og:image" content="https://bookdown.org/yihui/bookdown//images/cover.jpg" />
<meta property="og:description" content="这是一本使用 R Markdown 编写书籍的指南，包括如何生成图片和表格，以及如何在 R Markdown 中插入交叉引用、引文、HTML 组件和 Shiny 应用。本书能够导出为 HTML、PDF 和电子书（例如 EPUB）。本书的风格是可以定制的。你可以在 RStudio IDE 或其它编辑器中轻松地编辑和预览本书，并在你想要的任何地方（例如 bookdown.org）托管本书。" />
<meta name="github-repo" content="rstudio/bookdown" />

<meta name="author" content="谢益辉" />

<meta name="date" content="2021-07-12" />

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<meta name="description" content="这是一本使用 R Markdown 编写书籍的指南，包括如何生成图片和表格，以及如何在 R Markdown 中插入交叉引用、引文、HTML 组件和 Shiny 应用。本书能够导出为 HTML、PDF 和电子书（例如 EPUB）。本书的风格是可以定制的。你可以在 RStudio IDE 或其它编辑器中轻松地编辑和预览本书，并在你想要的任何地方（例如 bookdown.org）托管本书。">

<title>2.4 Figures | Bookdown: 使用 R Markdown 创作书籍和技术文档</title>

<script src="libs/header-attrs/header-attrs.js"></script>
<script src="libs/jquery/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap/js/bootstrap.min.js"></script>
<script src="libs/bootstrap/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/navigation/tabsets.js"></script>
<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding/datatables.js"></script>
<link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk/js/crosstalk.min.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/toc.css" type="text/css" />

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
/* show arrow before summary tag as in bootstrap
TODO: remove if boostrap in updated in html_document (rmarkdown#1485) */
details > summary {
  display: list-item;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#翻译与排版说明">翻译与排版说明</a>
<ul>
<li><a href="翻译说明.html#翻译说明">翻译说明</a></li>
<li><a href="排版说明.html#排版说明">排版说明</a></li>
<li><a href="翻译进度.html#翻译进度">翻译进度</a></li>
</ul></li>
<li><a href="前言.html#前言">前言</a>
<ul>
<li><a href="为什么要阅读这本书.html#为什么要阅读这本书">为什么要阅读这本书</a></li>
<li><a href="本书的结构.html#本书的结构">本书的结构</a></li>
<li><a href="软件信息与一些约定.html#软件信息与一些约定">软件信息与一些约定</a></li>
<li><a href="致谢.html#致谢">致谢</a></li>
</ul></li>
<li><a href="关于作者.html#关于作者">关于作者</a></li>
<li><a href="1-introduction.html#introduction"><span class="toc-section-number">1</span> 简介</a>
<ul>
<li><a href="1-1-开发动机.html#开发动机"><span class="toc-section-number">1.1</span> 开发动机</a></li>
<li><a href="1-2-开始.html#开始"><span class="toc-section-number">1.2</span> 开始</a></li>
<li><a href="1-3-usage.html#usage"><span class="toc-section-number">1.3</span> 使用</a></li>
<li><a href="1-4-new-session.html#new-session"><span class="toc-section-number">1.4</span> 两种呈现方法</a></li>
<li><a href="1-5-一些提示.html#一些提示"><span class="toc-section-number">1.5</span> 一些提示</a></li>
</ul></li>
<li><a href="2-components.html#components"><span class="toc-section-number">2</span> Components</a>
<ul>
<li><a href="2-1-markdown-syntax.html#markdown-syntax"><span class="toc-section-number">2.1</span> Markdown syntax</a>
<ul>
<li><a href="2-1-markdown-syntax.html#inline-formatting"><span class="toc-section-number">2.1.1</span> Inline formatting</a></li>
<li><a href="2-1-markdown-syntax.html#block-level-elements"><span class="toc-section-number">2.1.2</span> Block-level elements</a></li>
<li><a href="2-1-markdown-syntax.html#math-expressions"><span class="toc-section-number">2.1.3</span> Math expressions</a></li>
</ul></li>
<li><a href="2-2-markdown-extensions-by-bookdown.html#markdown-extensions-by-bookdown"><span class="toc-section-number">2.2</span> Markdown extensions by bookdown</a>
<ul>
<li><a href="2-2-markdown-extensions-by-bookdown.html#equations"><span class="toc-section-number">2.2.1</span> Number and reference equations</a></li>
<li><a href="2-2-markdown-extensions-by-bookdown.html#theorems"><span class="toc-section-number">2.2.2</span> Theorems and proofs</a></li>
<li><a href="2-2-markdown-extensions-by-bookdown.html#special-headers"><span class="toc-section-number">2.2.3</span> Special headers</a></li>
<li><a href="2-2-markdown-extensions-by-bookdown.html#text-references"><span class="toc-section-number">2.2.4</span> Text references</a></li>
</ul></li>
<li><a href="2-3-r-code.html#r-code"><span class="toc-section-number">2.3</span> R code</a></li>
<li><a href="2-4-figures.html#figures"><span class="toc-section-number">2.4</span> Figures</a></li>
<li><a href="2-5-tables.html#tables"><span class="toc-section-number">2.5</span> Tables</a></li>
<li><a href="2-6-cross-references.html#cross-references"><span class="toc-section-number">2.6</span> Cross-references</a></li>
<li><a href="2-7-custom-blocks.html#custom-blocks"><span class="toc-section-number">2.7</span> Custom blocks</a></li>
<li><a href="2-8-citations.html#citations"><span class="toc-section-number">2.8</span> Citations</a></li>
<li><a href="2-9-latex-index.html#latex-index"><span class="toc-section-number">2.9</span> Index</a></li>
<li><a href="2-10-html-widgets.html#html-widgets"><span class="toc-section-number">2.10</span> HTML widgets</a></li>
<li><a href="2-11-web-pages-and-shiny-apps.html#web-pages-and-shiny-apps"><span class="toc-section-number">2.11</span> Web pages and Shiny apps</a></li>
</ul></li>
<li><a href="3-output-formats.html#output-formats"><span class="toc-section-number">3</span> Output Formats</a>
<ul>
<li><a href="3-1-html.html#html"><span class="toc-section-number">3.1</span> HTML</a>
<ul>
<li><a href="3-1-html.html#gitbook-style"><span class="toc-section-number">3.1.1</span> GitBook style</a></li>
<li><a href="3-1-html.html#bootstrap-style"><span class="toc-section-number">3.1.2</span> Bootstrap style</a></li>
<li><a href="3-1-html.html#tufte-style"><span class="toc-section-number">3.1.3</span> Tufte style</a></li>
</ul></li>
<li><a href="3-2-latexpdf.html#latexpdf"><span class="toc-section-number">3.2</span> LaTeX/PDF</a></li>
<li><a href="3-3-e-books.html#e-books"><span class="toc-section-number">3.3</span> E-Books</a>
<ul>
<li><a href="3-3-e-books.html#epub"><span class="toc-section-number">3.3.1</span> EPUB</a></li>
<li><a href="3-3-e-books.html#mobi"><span class="toc-section-number">3.3.2</span> MOBI</a></li>
</ul></li>
<li><a href="3-4-a-single-document.html#a-single-document"><span class="toc-section-number">3.4</span> A single document</a></li>
</ul></li>
<li><a href="4-customization.html#customization"><span class="toc-section-number">4</span> Customization</a>
<ul>
<li><a href="4-1-yaml-options.html#yaml-options"><span class="toc-section-number">4.1</span> YAML options</a></li>
<li><a href="4-2-theming.html#theming"><span class="toc-section-number">4.2</span> Theming</a></li>
<li><a href="4-3-templates.html#templates"><span class="toc-section-number">4.3</span> Templates</a></li>
<li><a href="4-4-configuration.html#configuration"><span class="toc-section-number">4.4</span> Configuration</a></li>
<li><a href="4-5-internationalization.html#internationalization"><span class="toc-section-number">4.5</span> Internationalization</a></li>
</ul></li>
<li><a href="5-editing.html#editing"><span class="toc-section-number">5</span> Editing</a>
<ul>
<li><a href="5-1-build-the-book.html#build-the-book"><span class="toc-section-number">5.1</span> Build the book</a></li>
<li><a href="5-2-preview-a-chapter.html#preview-a-chapter"><span class="toc-section-number">5.2</span> Preview a chapter</a></li>
<li><a href="5-3-serve-the-book.html#serve-the-book"><span class="toc-section-number">5.3</span> Serve the book</a></li>
<li><a href="5-4-rstudio-ide.html#rstudio-ide"><span class="toc-section-number">5.4</span> RStudio IDE</a></li>
<li><a href="5-5-collaboration.html#collaboration"><span class="toc-section-number">5.5</span> Collaboration</a></li>
</ul></li>
<li><a href="6-发布与出版.html#发布与出版"><span class="toc-section-number">6</span> 发布与出版</a>
<ul>
<li><a href="6-1-rstudio-connect.html#rstudio-connect"><span class="toc-section-number">6.1</span> RStudio Connect</a></li>
<li><a href="6-2-github.html#github"><span class="toc-section-number">6.2</span> GitHub</a></li>
<li><a href="6-3-出版商.html#出版商"><span class="toc-section-number">6.3</span> 出版商</a></li>
</ul></li>
<li class="appendix"><span><b>附录</b></span></li>
<li><a href="A-软件工具.html#软件工具"><span class="toc-section-number">A</span> 软件工具</a>
<ul>
<li><a href="A-1-r-和-r-软件包.html#r-和-r-软件包"><span class="toc-section-number">A.1</span> R 和 R 软件包</a></li>
<li><a href="A-2-pandoc.html#pandoc"><span class="toc-section-number">A.2</span> Pandoc</a></li>
<li><a href="A-3-latex.html#latex"><span class="toc-section-number">A.3</span> LaTeX</a></li>
</ul></li>
<li><a href="B-软件使用.html#软件使用"><span class="toc-section-number">B</span> 软件使用</a>
<ul>
<li><a href="B-1-knitr.html#knitr"><span class="toc-section-number">B.1</span> knitr</a></li>
<li><a href="B-2-r-markdown.html#r-markdown"><span class="toc-section-number">B.2</span> R Markdown</a></li>
</ul></li>
<li><a href="C-常见问题.html#常见问题"><span class="toc-section-number">C</span> 常见问题</a></li>
<li><a href="参考文献.html#参考文献">参考文献</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="figures" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Figures</h2>
<p>By default, figures have no captions in the output generated by <strong>knitr</strong>, which means they will be placed wherever they were generated in the R code. Below is such an example.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="2-4-figures.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, .<span class="dv">1</span>, .<span class="dv">1</span>))</span>
<span id="cb43-2"><a href="2-4-figures.html#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pressure, <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">type =</span> <span class="st">&#39;b&#39;</span>)</span></code></pre></div>
<p><img src="bookdown-book-zhCN_files/figure-html/no-caption-1.png" width="70%" /></p>
<p>The disadvantage of typesetting figures in this way is that when there is not enough space on the current page to place a figure, it may either reach the bottom of the page (hence exceeds the page margin), or be pushed to the next page, leaving a large white margin at the bottom of the current page. That is basically why there are “floating environments” in LaTeX: elements that cannot be split over multiple pages (like figures) are put in floating environments, so they can float to a page that has enough space to hold them. There is also a disadvantage of floating things forward or backward, though. That is, readers may have to jump to a different page to find the figure mentioned on the current page. This is simply a natural consequence of having to typeset things on multiple pages of fixed sizes. This issue does not exist in HTML, however, since everything can be placed continuously on one single page (presumably with infinite height), and there is no need to split anything across multiple pages of the same page size.</p>
<p>If we assign a figure caption to a code chunk via the chunk option <code>fig.cap</code>, R plots will be put into figure environments, which will be automatically labeled and numbered, and can also be cross-referenced. The label of a figure environment is generated from the label of the code chunk, e.g., if the chunk label is <code>foo</code>, the figure label will be <code>fig:foo</code> (the prefix <code>fig:</code> is added before <code>foo</code>). To reference a figure, use the syntax <code>\@ref(label)</code>,<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a> where <code>label</code> is the figure label, e.g., <code>fig:foo</code>.</p>
<p>To take advantage of Markdown formatting <em>within</em> the figure caption, you will need to use text references (see Section <a href="2-2-markdown-extensions-by-bookdown.html#text-references">2.2.4</a>). For example, a figure caption that contains <code>_italic text_</code> will not work when the output format is LaTeX/PDF, since the underscore is a special character in LaTeX, but if you use text references, <code>_italic text_</code> will be translated to LaTeX code when the output is LaTeX.</p>

<div class="rmdimportant">
If you want to cross-reference figures or tables generated from a code chunk, please make sure the chunk label only contains <em>alphanumeric</em> characters (a-z, A-Z, 0-9), slashes (/), or dashes (-).
</div>
<p>The chunk option <code>fig.asp</code> can be used to set the aspect ratio of plots, i.e., the ratio of figure height/width. If the figure width is 6 inches (<code>fig.width = 6</code>) and <code>fig.asp = 0.7</code>, the figure height will be automatically calculated from <code>fig.width * fig.asp = 6 * 0.7 = 4.2</code>. Figure <a href="2-4-figures.html#fig:pressure-plot">2.1</a> is an example using the chunk options <code>fig.asp = 0.7</code>, <code>fig.width = 6</code>, and <code>fig.align = 'center'</code>, generated from the code below:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="2-4-figures.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, .<span class="dv">1</span>, .<span class="dv">1</span>))</span>
<span id="cb44-2"><a href="2-4-figures.html#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pressure, <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">type =</span> <span class="st">&#39;b&#39;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:pressure-plot"></span>
<img src="bookdown-book-zhCN_files/figure-html/pressure-plot-1.png" alt="A figure example with the specified aspect ratio, width, and alignment." width="90%" />
<p class="caption">
图 2.1: A figure example with the specified aspect ratio, width, and alignment.
</p>
</div>
<p>The actual size of a plot is determined by the chunk options <code>fig.width</code> and <code>fig.height</code> (the size of the plot generated from a graphical device), and we can specify the output size of plots via the chunk options <code>out.width</code> and <code>out.height</code>. The possible value of these two options depends on the output format of the document. For example, <code>out.width = '30%'</code> is a valid value for HTML output, but not for LaTeX/PDF output. However, <strong>knitr</strong> will automatically convert a percentage value for <code>out.width</code> of the form <code>x%</code> to <code>(x / 100) \linewidth</code>, e.g., <code>out.width = '70%'</code> will be treated as <code>.7\linewidth</code> when the output format is LaTeX. This makes it possible to specify a relative width of a plot in a consistent manner. Figure <a href="2-4-figures.html#fig:cars-plot">2.2</a> is an example of <code>out.width = 70%</code>.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="2-4-figures.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, .<span class="dv">1</span>, .<span class="dv">1</span>))</span>
<span id="cb45-2"><a href="2-4-figures.html#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(cars, <span class="at">pch =</span> <span class="dv">19</span>)</span></code></pre></div>
<div class="figure"><span id="fig:cars-plot"></span>
<img src="bookdown-book-zhCN_files/figure-html/cars-plot-1.png" alt="A figure example with a relative width 70\%." width="70%" />
<p class="caption">
图 2.2: A figure example with a relative width 70%.
</p>
</div>
<p>If you want to put multiple plots in one figure environment, you must use the chunk option <code>fig.show = 'hold'</code> to hold multiple plots from a code chunk and include them in one environment. You can also place plots side by side if the sum of the width of all plots is smaller than or equal to the current line width. For example, if two plots have the same width <code>50%</code>, they will be placed side by side. Similarly, you can specify <code>out.width = '33%'</code> to arrange three plots on one line. Figure <a href="2-4-figures.html#fig:multi-plots">2.3</a> is an example of two plots, each with a width of <code>50%</code>.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="2-4-figures.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, .<span class="dv">1</span>, .<span class="dv">1</span>))</span>
<span id="cb46-2"><a href="2-4-figures.html#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pressure, <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">type =</span> <span class="st">&#39;b&#39;</span>)</span>
<span id="cb46-3"><a href="2-4-figures.html#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(cars, <span class="at">pch =</span> <span class="dv">19</span>)</span></code></pre></div>
<div class="figure"><span id="fig:multi-plots"></span>
<img src="bookdown-book-zhCN_files/figure-html/multi-plots-1.png" alt="Two plots placed side by side." width="50%" /><img src="bookdown-book-zhCN_files/figure-html/multi-plots-2.png" alt="Two plots placed side by side." width="50%" />
<p class="caption">
图 2.3: Two plots placed side by side.
</p>
</div>
<p>Sometimes you may have certain images that are not generated from R code, and you can include them in R Markdown via the function <code>knitr::include_graphics()</code>. Figure <a href="2-4-figures.html#fig:knitr-logo">2.4</a> is an example of three <strong>knitr</strong> logos included in a figure environment. You may pass one or multiple image paths to the <code>include_graphics()</code> function, and all chunk options that apply to normal R plots also apply to these images, e.g., you can use <code>out.width = '33%'</code> to set the widths of these images in the output document.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="2-4-figures.html#cb47-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="fu">rep</span>(<span class="st">&#39;images/knit-logo.png&#39;</span>, <span class="dv">3</span>))</span></code></pre></div>
<div class="figure"><span id="fig:knitr-logo"></span>
<img src="images/knit-logo.png" alt="Three knitr logos included in the document from an external PNG image file." width="32.8%" /><img src="images/knit-logo.png" alt="Three knitr logos included in the document from an external PNG image file." width="32.8%" /><img src="images/knit-logo.png" alt="Three knitr logos included in the document from an external PNG image file." width="32.8%" />
<p class="caption">
图 2.4: Three knitr logos included in the document from an external PNG image file.
</p>
</div>
<p>There are a few advantages of using <code>include_graphics()</code>:</p>
<ol style="list-style-type: decimal">
<li>You do not need to worry about the document output format, e.g., when the output format is LaTeX, you may have to use the LaTeX command <code>\includegraphics{}</code> to include an image, and when the output format is Markdown, you have to use <code>![]()</code>. The function <code>include_graphics()</code> in <strong>knitr</strong> takes care of these details automatically.</li>
<li>The syntax for controlling the image attributes is the same as when images are generated from R code, e.g., chunk options <code>fig.cap</code>, <code>out.width</code>, and <code>fig.show</code> still have the same meanings.</li>
<li><code>include_graphics()</code> can be smart enough to use PDF graphics automatically when the output format is LaTeX and the PDF graphics files exist, e.g., an image path <code>foo/bar.png</code> can be automatically replaced with <code>foo/bar.pdf</code> if the latter exists. PDF images often have better qualities than raster images in LaTeX/PDF output. To make use of this feature, set the argument <code>auto_pdf = TRUE</code>, or set the global option <code>options(knitr.graphics.auto_pdf = TRUE)</code> to enable this feature globally in an R session.</li>
<li>You can easily scale these images proportionally using the same ratio. This can be done via the <code>dpi</code> argument (dots per inch), which takes the value from the chunk option <code>dpi</code> by default. If it is a numeric value and the chunk option <code>out.width</code> is not set, the output width of an image will be its actual width (in pixels) divided by <code>dpi</code>, and the unit will be inches. For example, for an image with the size 672 x 480, its output width will be 7 inches (<code>7in</code>) when <code>dpi = 96</code>. This feature requires the package <strong>png</strong> and/or <strong>jpeg</strong> to be installed. You can always override the automatic calculation of width in inches by providing a non-NULL value to the chunk option <code>out.width</code>, or use <code>include_graphics(dpi = NA)</code>.</li>
</ol>
</div>
<div class="footnotes">
<hr />
<ol start="6">
<li id="fn6"><p>Do not forget the leading backslash! And also note the parentheses <code>()</code> after <code>ref</code>; they are not curly braces <code>{}</code>.<a href="2-4-figures.html#fnref6" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
<p style="text-align: center;">
<a href="2-3-r-code.html"><button class="btn btn-default">Previous</button></a>
<a href="2-5-tables.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
